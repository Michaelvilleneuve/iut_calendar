<%= link_to '/', class: 'home' do %>
<svg class="icon" viewBox="0 0 24 24">
  <path fill="#000000" d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z" />
</svg>
<% end %>
<div class="calendar">
    <% @events.each_with_index do |event, index| %>
      <% new_day = event.starts_at.strftime("%j") != @events[index - 1].starts_at.strftime("%j") %>
      <% if new_day %>
        <% if index != 0 %></div><% end %>
        <div class="day">
          <h3>
          <% if event.starts_at.today? %>
            Aujourd'hui
          <% elsif event.starts_at.to_date == Date.tomorrow %>
            Demain
          <% else %>
            <%= l(event.starts_at, format: "%A %d %B %Y") %>
          <% end %>
          </h3>
      <% end %>
        <div class="matiere">
          <span class="date">De <strong><%= (event.starts_at + 2.hours).strftime("%Hh%M") %></strong> Ã  <strong><%= (event.ends_at + 2.hours).strftime("%Hh%M") %></strong></span>
          <p>
            <svg class="icon" viewBox="0 0 24 24">
              <path fill="#000000" d="M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z" />
            </svg>
            <span><%= event.title %></span>
          </p>
          <p>
            <svg class="icon" viewBox="0 0 24 24">
              <path fill="#000000" d="M12,11.5A2.5,2.5 0 0,1 9.5,9A2.5,2.5 0 0,1 12,6.5A2.5,2.5 0 0,1 14.5,9A2.5,2.5 0 0,1 12,11.5M12,2A7,7 0 0,0 5,9C5,14.25 12,22 12,22C12,22 19,14.25 19,9A7,7 0 0,0 12,2Z" />
            </svg>
            <%= event.room %>
          </p>
          <p>
            <svg class="icon" viewBox="0 0 24 24">
              <path fill="#000000" d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z" />
            </svg>
            <%= event.teacher %>
          </p>
        </div>
    <% end %>
  </div>
</div>
<script>
$('.calendar').slick({arrows: false, infinite: false});
$(document).keydown(function(e){
  if (e.keyCode == 39) {
     $('.calendar').slick('slickNext');
  } else if (e.keyCode == 37) {
    $('.calendar').slick('slickPrev');
  }
});
</script>
